---
title: "2300. Successful Pairs of Spells and Potions"
published: false
description:
tags:
cover_image:
series: "leetcode"
---

You are given two positive integer arrays spells and potions, of length n and m respectively, where spells[i] represents the strength of the ith spell and potions[j] represents the strength of the jth potion.

You are also given an integer success. A spell and potion pair is considered successful if the product of their strengths is at least success.

Return an integer array pairs of length n where pairs[i] is the number of potions that will form a successful pair with the ith spell.

```kotlin
class Solution {
    fun successfulPairs(spells: IntArray, potions: IntArray, success: Long): IntArray {
        // 1. Potions 배열을 오름차순 정렬 (이진 탐색을 위한 전처리)
        val sortedPotions = potions.sorted()

        // 2. 결과를 담을 배열
        val result = IntArray(spells.size)

        // 3. 각 spell에 대해 성공 쌍의 개수 이진 탐색으로 계산
        for ((index, spell) in spells.withIndex()) {
            val threshold = (success + spell - 1) / spell  // 올림 나눗셈
            val firstSuccessIndex = lowerBound(sortedPotions, threshold)
            result[index] = sortedPotions.size - firstSuccessIndex
        }

        return result
    }

    // lowerBound: target 이상이 처음 나오는 index 반환
    private fun lowerBound(arr: List<Int>, target: Long): Int {
        var left = 0
        var right = arr.size
        while (left < right) {
            val mid = (left + right) / 2
            if (arr[mid].toLong() < target) {
                left = mid + 1
            } else {
                right = mid
            }
        }
        return left
    }
}

```

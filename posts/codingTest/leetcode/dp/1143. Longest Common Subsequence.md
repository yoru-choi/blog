---
title: "1143. Longest Common Subsequence
published: false
description: 
tags: 
cover_image:
series: "leetcode"
---

lcs 문제라고한다

봤는데 정답은 감이

인간의 풀이

```kotlin

class Solution {
    fun longestCommonSubsequence(text1: String, text2: String): Int {
        val memo = Array<IntArray>(text1.length) { IntArray(text2.length) }

        for (i in 0 until text1.length) {
            val limitI = i + 1
            val safeI = if (i == 0) 0 else i - 1
            for (j in 0 until text2.length) {
                val safeJ = if (j == 0) 0 else j - 1
                if (text1[i] == text2[j]) {
                    memo[i][j] = minOf(limitI, j + 1, 1 + memo[safeI][safeJ])
                } else {
                    memo[i][j] = maxOf(memo[safeI][j], memo[i][safeJ])
                }
            }
        }

        return memo.last().last()
    }
}

```

gpt의 2차원배열 풀이

```kotlin
fun longestCommonSubsequence(text1: String, text2: String): Int {
    val m = text1.length
    val n = text2.length
    val dp = Array(m + 1) { IntArray(n + 1) } // 2차원 DP 테이블

    for (i in 1..m) { abc
        for (j in 1..n) { ac
            if (text1[i - 1] == text2[j - 1]) {
                dp[i][j] = dp[i - 1][j - 1] + 1
            } else {
                dp[i][j] = maxOf(dp[i - 1][j], dp[i][j - 1])
            }
        }
    }
    return dp[m][n]
}
```

존나 어렵네

gpt의 1차원배열 풀이 이게더 효율적이라고함

```kotlin
fun longestCommonSubsequence(text1: String, text2: String): Int {
    val m = text1.length
    val n = text2.length
    // Always use the shorter string as columns for better space optimization
    val (s1, s2) = if (n < m) text2 to text1 else text1 to text2
    val len1 = s1.length
    val len2 = s2.length

    var prev = IntArray(len1 + 1) // Only need two rows
    var curr = IntArray(len1 + 1)

    for (i in 1..len2) {
        for (j in 1..len1) {
            curr[j] = if (s2[i-1] == s1[j-1]) {
                prev[j-1] + 1
            } else {
                maxOf(prev[j], curr[j-1])
            }
        }
        // Swap references (reuse arrays)
        val temp = prev
        prev = curr
        curr = temp
    }
    return prev[len1]
}

```

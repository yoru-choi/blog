
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>세상 간단한 redux saga 함수 -YEOL</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">세상 간단한 redux saga 함수 -YEOL</h2>
                                <div class="box-info">
                                    <p class="category">TS, JS/react</p>
                                    <p class="date">2020-09-10 18:13:44</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <h2 data-ke-size="size26">&nbsp;</h2>
<p><figure class="imageblock alignCenter" data-filename="redux.png" data-origin-width="576" data-origin-height="572" width="434" height="NaN" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img.png" data-filename="redux.png" data-origin-width="576" data-origin-height="572" width="434" height="NaN" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<h2 data-ke-size="size26"><b>Saga란</b></h2>
<p>&nbsp;</p>
<p><span style="color: #333333;">react redux 패턴에서 redux가 서버값을 가져오는 부분을 실행하면 서버는 값을 토해낼 때까지 지연이 생깁니다.</span></p>
<p>그래서 그지 연을 기다렸다가 값을 받으면 전달하게끔 동기 처리를 해야 하는데 그 행위를 saga가 대신해줍니다.</p>
<p><span style="color: #333333;">능통한 이해를 위해선 js의 generator 문법을 숙지할 필요가 있습니다.</span></p>
<p>&nbsp;</p>
<h2 data-ke-size="size26">&nbsp;</h2>
<h2 data-ke-size="size26"><b>Saga 함수 목록</b></h2>
<p>&nbsp;</p>
<p><span style="letter-spacing: 0px;">put : type에 선언된 action을 dispatch 합니다.&nbsp;</span></p>
<pre id="code_1599029845031" class="html xml" style="margin: 20px auto 0px; display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="html" data-ke-type="codeblock"><code>  ex -&gt;CHECK 라는 이름을 가진 action을 dispatch 합니다.
  
  yield put({
        type:'CHECK',
        payload:response.data,
      });</code></pre>
<p>&nbsp;</p>
<p>delay : 시간을 설정하고 시간이 지나면 resolve를 실행하는 promise 객체를 반환합니다.</p>
<pre id="code_1599030119561" class="html xml" style="margin: 20px auto 0px; display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="html" data-ke-type="codeblock"><code>  ex - 이렇게하면 해당 실행이 1000 밀리세컨(1초) 뒤에 시작됩니다.
  
  yield deley(1000);</code></pre>
<p>&nbsp;</p>
<p>fork :&nbsp; 함수 형태로 사용하여 fork함수의 인자를 실행하지만 비동기 처리입니다.</p>
<pre id="code_1599029845031" class="html xml" style="margin: 20px auto 0px; display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="html" data-ke-type="codeblock"><code>export function* Saga() {
    yield all([
        fork(func1()),
        fork(func2())    ]);
       };</code></pre>
<p>call :함수 형태로<span style="color: #333333;"> 사용하여 call함수의 인자를 실행하지만</span><span style="color: #333333;">&nbsp;동기 처리입니다.&nbsp;</span></p>
<pre id="code_1599029845032" class="html xml" style="margin: 20px auto 0px; display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="html" data-ke-type="codeblock"><code>export function* Saga() {
    yield all([
        call(func1()),
        call(func2())    ]);
       };</code></pre>
<p>&nbsp;</p>
<p>takeLatest :&nbsp; 동일한 명령이 막 겹치면 마지막 것만 실행합니다. REGISTER 액션을 여러 번 겹쳐서 수행하면</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;마지막 것만 실행합니다.</p>
<pre id="code_1599030385766" class="html xml" style="margin: 20px auto 0px; display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="html" data-ke-type="codeblock"><code>export function* authSaga(){
  yield takeLatest(REGISTER , registerSaga);
}</code></pre>
<p>&nbsp;</p>
<p><span style="color: #333333;">takeEvery : 들어오는 모든 액션 명령을 전부 처리합니다.&nbsp;</span></p>
<pre id="code_1599030388957" class="html xml" style="margin: 20px auto 0px; display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="html" data-ke-type="codeblock"><code>export function* authSaga(){
  yield takeEvery(REGISTER , registerSaga);
}</code></pre>
<p>&nbsp;</p>
<p>all : all함수를 사용하여 배열에 인자로 넣어주면 내부 함수들이 동시에 실행되고 전부 resolve 될 때 완료 처리됩니다.&nbsp;</p>
<pre id="code_1599030312194" class="html xml" style="margin: 20px auto 0px; display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="html" data-ke-type="codeblock"><code>export function* rootSaga(){
  yield all([authSaga() , userSaga() ]);
}</code></pre>
<p>&nbsp;</p>
<p>saga에서 사용하는 건 대부분 call과 teakLeast 였습니다. redux사용 중 서버값 가져올 때 비동기 처리해야 하니까요.</p>
<p>지적은 언제든 환영입니다. 감사합니다.</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #Saga #react saga #saga 함수 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>

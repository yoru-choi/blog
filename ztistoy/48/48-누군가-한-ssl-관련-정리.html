
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>누군가 한 ssl 관련 정리</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">누군가 한 ssl 관련 정리</h2>
                                <div class="box-info">
                                    <p class="category"></p>
                                    <p class="date">2020-09-17 10:37:07</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><a href="https://blusky10.tistory.com/352" target="_blank" rel="noopener">blusky10.tistory.com/352</a></p>
<figure id="og_1600323580994" contenteditable="false" data-ke-type="opengraph" data-og-type="article" data-og-title="Openssl로 SSL 을 위한 인증서 발급하기 (HTTPS)" data-og-description="HTTPS를 위해서 인증서 발급을 위해 openssl 을 이용해봤다.. https://sourceforge.net/projects/openssl/ 여기 가서 다운 받아서 압축을 풀면 일단 설치는 완료된다. (윈도우 기준) 1. Private KEY 생성 명령어 :.." data-og-host="blusky10.tistory.com" data-og-source-url="https://blusky10.tistory.com/352" data-og-url="https://blusky10.tistory.com/352" data-og-image="https://scrap.kakaocdn.net/dn/LooBj/hyHxTwVRXK/GYDBUTLsVaqmtXAQGtAGO0/img.png?width=800&amp;height=800&amp;face=0_0_800_800,https://scrap.kakaocdn.net/dn/NWDIh/hyHwuetqPn/WDHm6kwNEg9kxNK29tAzGK/img.png?width=800&amp;height=800&amp;face=0_0_800_800"><a href="https://blusky10.tistory.com/352" target="_blank" rel="noopener" data-source-url="https://blusky10.tistory.com/352">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/LooBj/hyHxTwVRXK/GYDBUTLsVaqmtXAQGtAGO0/img.png?width=800&amp;height=800&amp;face=0_0_800_800,https://scrap.kakaocdn.net/dn/NWDIh/hyHwuetqPn/WDHm6kwNEg9kxNK29tAzGK/img.png?width=800&amp;height=800&amp;face=0_0_800_800');">&nbsp;</div>
<div class="og-text">
<p class="og-title">Openssl로 SSL 을 위한 인증서 발급하기 (HTTPS)</p>
<p class="og-desc">HTTPS를 위해서 인증서 발급을 위해 openssl 을 이용해봤다.. https://sourceforge.net/projects/openssl/ 여기 가서 다운 받아서 압축을 풀면 일단 설치는 완료된다. (윈도우 기준) 1. Private KEY 생성 명령어 :..</p>
<p class="og-host">blusky10.tistory.com</p>
</div>
</a></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>결국 이걸로 다함 이게 짱임.</p>
<p>req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 3650</p>
<pre id="code_1600324069122" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>    option = {
      key: fs.readFileSync('./open_ssl/openssl-0.9.8k_X64/bin/key.pem'),
      cert: fs.readFileSync('./open_ssl/openssl-0.9.8k_X64/bin/cert.pem'),
      passphrase:'038100',
      agent:false
  };

  https.createServer(option, app).listen(sslport, () =&gt; {
      console.log(`[HTTPS] Soda Server is started on port ${sslport}`)
  });
</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>react 는 처음 시작을 set HTTPS=true&amp;&amp;npm start 를 하면되는데</p>
<p>proxy에설정할때 ## 붙어있는 secure:false 를 해야한다.</p>
<p>target: 'https://localhost:5050/',<span>&nbsp;</span><br />changeOrigin: true,<span>&nbsp;</span><br />##secure: false</p>
<p>이것만하면 https는 괜찮다 .&nbsp;</p>
<p>openssl이니까 어차피 인증서 사올꺼아니면 다의미없다.</p>
<p>node.js 에서는 openssl 을 받아온도 (링크)</p>
<p>아래와 같이 설정해주면 된다.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>HTTPS를 위해서 인증서 발급을 위해 openssl 을 이용해봤다..</p>
<p>&nbsp;</p>
<p><a href="https://sourceforge.net/projects/openssl/">https://sourceforge.net/projects/openssl/</a></p>
<p>&nbsp;</p>
<p>여기 가서 다운 받아서 압축을 풀면 일단 설치는 완료된다. (윈도우 기준)</p>
<p>&nbsp;</p>
<p><b>1. Private KEY 생성</b></p>
<p>&nbsp;</p>
<p><b>명령어 : oepnssl genrsa -out [파일명] 2048</b></p>
<p>&nbsp;</p>
<p><b># openssl genrsa -out private.key 2048</b></p>
<p>Generating RSA private key, 2048 bit long modulus</p>
<p>.................................................+++</p>
<p>.................+++</p>
<p>e is 65537 (0x10001)</p>
<p><b>&nbsp;</b></p>
<p><b>private.</b><b>key</b></p>
<p>&nbsp;</p>
<p>-----BEGIN RSA PRIVATE KEY-----</p>
<p>MIIEpAIBAAKCAQEAzLTDf8Q50h4H+S7H8fGLOSxQa68YSN43SDdF4GEL7rEBTt26</p>
<p>n+sJ/MILYk/OoSoTW46jq5YebGzWO2mqw/lciy7hx3xmhMTLjUsSmihrUfQKKrFZ</p>
<p>PeTKVdk9VocnnM+PutWdojhByRhlbDuYGtMku7o3mGhOK7TecZAkg0XDCLJnxyK5</p>
<p>Sfcx7LL/ZxJZoDlQYUqODD48jA5Ao3NsiYgRnBSvPuo2EaNHAEl9Uk9b8KGh8KK7</p>
<p>X75ixAa/vwDFik4BXG6MDV3nerR6yFrhyV0jDWwhArFwfNVC4T376y8nKcl6dToW</p>
<p>njNLe37jqIw6np7CLCn0b7l3yAL9eSvJsnmWywIDAQABAoIBAQC4amzpUL0KZxWl</p>
<p>zhhBBer4Ac0dhetp0g+Zlnn0D1mxmnLkOurjINqpg6K/2cf79yzjQdh/P0l/Qnmp</p>
<p>oqM91AskNIMgtRiiqav7SVOj35/3f9Qc7BLKqLADsScKKc5s/aytk75kIyxY3wqX</p>
<p>/AQmvmsMWFG3kthBlbsEMehC/vkafgh9HKpjsZfQFr7O/yBQ2p9t4PyHWf0sPaqZ</p>
<p>/tKxb7jGij+Z9MhaGQc4Xn2nAHooHOOrrj1uPc6m26avalkMk0VzTg60kitTNa0H</p>
<p>lrKWlMSzEK8avE+Bus+PPcQmDBmyAdbAomOaOmmE7+9Bk7/ewfJ0HRlM5pj/8z01</p>
<p>TyhLrxbhAoGBAPyKcJVVIBGwBaB96UaLlzlgyh8zyrIucEsnaxJkJfrxZrn8ACww</p>
<p>XeTaVpSviCF1Sst8Km3f6Ncvla1Hfl2unVgTIunkbKrrzKWPrMxwiAvY6lB3/tGa</p>
<p>OsS8ohzhrpXKEKjDAc0tnnsNI1auWh210KpUGt4Whzk3rvEnmcEQKY+7AoGBAM+C</p>
<p>ljFld5xpcrJkb8r4G2nUbvUPRekqlVb2gSzff5/O12aQUF7YBDQmijDNNaA6I5eB</p>
<p>2McPfhOAPlE3ecQ0u2+g4CCaTorxNwzOsVfgfYZGqhqM9rG/GEhFztfcpUFwmX0L</p>
<p>AKjhZhqXjTxZBfz368jyR83oSb3PIkDOuOhMC/wxAoGAD4OJqwLRt4RytAtIG1dT</p>
<p>8OhrQkNyPkPwDg3b3ANe+e1+fAppEE3gVsC69ONbn4KPF7UG/jz1FtMLhNuRfbvO</p>
<p>WqzCRlAMBOv7ZGhRGzYGhYPL0Smt875fwdo8sz2B9h21rEhegfY9eB20gAyx6IVU</p>
<p>zkHgbKhBolgzXQkrvtp5UyUCgYEAlyCyJhOSA1ZA9G91g8sim/bdQJj4/5HF5ent</p>
<p>tjKoDklkUwwznH+SwDB5YIVz0tfE6CjnKkK8PZOezyOqCR2mjOwLj3MSVNrMjwVR</p>
<p>34Bdqxd395JGcLmOA8Tjmg7WREyvXIRQ3K4b4K4TbKohVFVzYYwig3HzkstyVOS5</p>
<p>gmUwLWECgYBE8CjpaFHvDiU3zpLXu6j3nn4OFrIj8CYwm6pyBTbWLy1hFz0aShZn</p>
<p>oXL9pLGsmNqWDwzk7PCoiqJLraGUnhycx6ylZIzlPssiezKL2S+QgN204fCwa34r</p>
<p>YRnr5og9+HyGukl3+d8zVxEd9NCL8Qh5hco0PjMn7aTVp+fhz6GT7g==</p>
<p>-----END RSA PRIVATE KEY-----</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><b>2. Public Key 생성</b></p>
<p>&nbsp;</p>
<p><b>명령어 : openssl rsa -in [private key&nbsp;파일명] -pubout -out [파일명]</b></p>
<p>&nbsp;</p>
<p><b># openssl rsa -in private.</b><b>key&nbsp;</b><b>-pubout -out public.</b><b>key&nbsp;</b></p>
<p>writing RSA key</p>
<p><b>&nbsp;</b></p>
<p><b>public.</b><b>key&nbsp;</b></p>
<p>&nbsp;</p>
<p>-----BEGIN PUBLIC KEY-----</p>
<p>MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzLTDf8Q50h4H+S7H8fGL</p>
<p>OSxQa68YSN43SDdF4GEL7rEBTt26n+sJ/MILYk/OoSoTW46jq5YebGzWO2mqw/lc</p>
<p>iy7hx3xmhMTLjUsSmihrUfQKKrFZPeTKVdk9VocnnM+PutWdojhByRhlbDuYGtMk</p>
<p>u7o3mGhOK7TecZAkg0XDCLJnxyK5Sfcx7LL/ZxJZoDlQYUqODD48jA5Ao3NsiYgR</p>
<p>nBSvPuo2EaNHAEl9Uk9b8KGh8KK7X75ixAa/vwDFik4BXG6MDV3nerR6yFrhyV0j</p>
<p>DWwhArFwfNVC4T376y8nKcl6dToWnjNLe37jqIw6np7CLCn0b7l3yAL9eSvJsnmW</p>
<p>ywIDAQAB</p>
<p>-----END PUBLIC KEY-----</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><b>3. CSR 생성 (Certificate Signing Request - 인증서 서명 요청)</b></p>
<p>&nbsp;</p>
<p>- 인증서 발급을 위한 필요한 정보를 담고 있는 인증서 신청 형식 데이터 이다.&nbsp;</p>
<p>&nbsp;</p>
<table style="border-collapse: collapse; width: 100%;" border="1" width="784">
<tbody>
<tr>
<td rowspan="1">
<p>&nbsp;구분</p>
</td>
<td rowspan="1">&nbsp;작성 예&nbsp;</td>
</tr>
<tr>
<td>
<p>&nbsp;Country Name (국가코드)&nbsp;</p>
</td>
<td>
<p>&nbsp;KR</p>
</td>
</tr>
<tr>
<td>
<p>&nbsp;State or Province Name (시/도의 전체이름)</p>
</td>
<td>
<p>&nbsp;Seoul</p>
</td>
</tr>
<tr>
<td>
<p>&nbsp;Locality Name (시/군/구 등의 이름)</p>
</td>
<td>
<p>&nbsp;Songpa-gu&nbsp;</p>
</td>
</tr>
<tr>
<td>
<p>&nbsp;Organization (회사이름)</p>
</td>
<td>
<p>&nbsp;XXXX</p>
</td>
</tr>
<tr>
<td>
<p>&nbsp;Organization Unit (부서명)</p>
</td>
<td>
<p>&nbsp;Server</p>
</td>
</tr>
<tr>
<td>
<p>&nbsp;Common Name (SSL 인증서를 설치할 서버의 Full Domain)</p>
</td>
<td>
<p>&nbsp;www.xxxx.com</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><b>주의 사항</b></p>
<p><b>- Common Name 에는 인증서를 설치할 사이트의 도메인의 이름을 넣어야 한다. (ip, port, http, https 포함불가능)</b></p>
<p>&nbsp;</p>
<p><b>명령어 : openssl req -new -key</b><b>&nbsp;[private key&nbsp;파일명]</b><b>&nbsp;-out&nbsp;</b><b>[파일명]</b></p>
<p>&nbsp;</p>
<p><b># openssl req -new -key private.</b><b>key&nbsp;</b><b>-out private.csr</b></p>
<p>You are about to be asked to enter information that will be incorporated</p>
<p>into your certificate request.</p>
<p>What you are about to enter is what is called a Distinguished Name or a DN.</p>
<p>There are quite a few fields but you can leave some blank</p>
<p>For some fields there will be a default value,</p>
<p>If you enter '.', the field will be left blank.</p>
<p>-----</p>
<p>Country Name (2 letter code) [AU]:KR</p>
<p>State or Province Name (full name) [Some-State]:Seoul</p>
<p>Locality Name (eg, city) []:Seoul</p>
<p>Organization Name (eg, company) [Internet Widgits Pty Ltd]:local</p>
<p>Organizational Unit Name (eg, section) []:local</p>
<p>Common Name (eg, YOUR name) []:local</p>
<p>Email Address []:test@test.com</p>
<p>&nbsp;</p>
<p>Please enter the following 'extra' attributes</p>
<p>to be sent with your certificate request</p>
<p>A challenge password []:test</p>
<p>An optional company name []:test</p>
<p>&nbsp;</p>
<p>중간중간 뭐라고 나오는 내용들이 많이 있다. 일단 테스트 이기 때문에 대충 넣었다.</p>
<p>&nbsp;</p>
<p><b>private.csr</b></p>
<p><b>&nbsp;</b></p>
<p>-----BEGIN CERTIFICATE REQUEST-----</p>
<p>MIIC3jCCAcYCAQAwbzELMAkGA1UEBhMCS1IxDjAMBgNVBAgTBUtvcmVhMQ4wDAYD</p>
<p>VQQHEwVTZW91bDENMAsGA1UEChMEdGVzdDENMAsGA1UECxMEdGVzdDENMAsGA1UE</p>
<p>AxMEdGVzdDETMBEGCSqGSIb3DQEJARYEdGVzdDCCASIwDQYJKoZIhvcNAQEBBQAD</p>
<p>ggEPADCCAQoCggEBAOAF/QjGmdafbFanuHg3MyUlABiBhPTavX1eGzqGD/oxLwMu</p>
<p>e8DHEAeLBQGwpIq8qqDd8hmjFUL7blt4bzAAaGTtRnK7y1kegFNE/qftv6Imx1x6</p>
<p>5V2Cnh/998a3O0NXCvkBu5RRKALVl1qHOl4PKFLeX+NyoGzhqInu8ZrWu86K0cRu</p>
<p>JqtRF9Qpd0r7/E3yGaFdPIVA0AtM8W8+ne9Y3mMHeC7Os6DvEH1H6ZwReQljDZKK</p>
<p>lPjqBZwN4pn2W9ws3U0N6iTn37gQDTCJFW3MwIFUk+wK4L95XfZXCx+x/L5khTkV</p>
<p>mVUFvSbEw6FYWK0xeQKKtol6qUOkqC+EvKggPkUCAwEAAaAqMBMGCSqGSIb3DQEJ</p>
<p>AjEGEwR0ZXN0MBMGCSqGSIb3DQEJBzEGEwR0ZXN0MA0GCSqGSIb3DQEBCwUAA4IB</p>
<p>AQCHP6rPvZWJx1w6MW+Te3WWlaGo6WCHaVv6nxYgvnCgX+BK2B2FY9MfaSagZabj</p>
<p>x4SVxctJlO8WfWz+vI+iOONxkDgfPXerIXSm6qDF2ITcYvWeU/6N12Ixf+mapygO</p>
<p>6dTfpqAsHePJmHgWah9s+uzYllYT+HlVJtSwooKOhsYER/oEttCbDc1NGnJVLO2S</p>
<p>cbpbVbuuqo12MtdrZ/ZrSPiHKU+gJzieUd8gUXVDEXbo6ljlRkONMe1LPPmeKvGy</p>
<p>6nfaE78/U0rBce1qPaxlPUVl16bHfnjjC5BTFjym0jcMnKbOuHiHVCAeuscTXoiF</p>
<p>YaRIlbEUh+D/5QhtMMKqJV0o</p>
<p>-----END CERTIFICATE REQUEST-----</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><b>4. CRT 인증서 만들기</b></p>
<p>&nbsp;</p>
<p><b>명령어 : openssl req -x509 -days [기간]&nbsp;-key</b><b>&nbsp;[private key&nbsp;파일명] -in [csr 파일명]</b><b>&nbsp;-out&nbsp;</b><b>[파일명] -days [기간]</b></p>
<p>&nbsp;</p>
<p><b># openssl req -x509 -days 365 -key private.key -in private.csr -out mycommoncrt.crt -days 365</b></p>
<p>You are about to be asked to enter information that will be incorporated&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p>into your certificate request.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p>What you are about to enter is what is called a Distinguished Name or a DN.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>There are quite a few fields but you can leave some blank&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>For some fields there will be a default value,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p>If you enter '.', the field will be left blank.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>-----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>Country Name (2 letter code) [AU]:KR&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p>State or Province Name (full name) [Some-State]:Seoul&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>Locality Name (eg, city) []:Songpa-gu&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>Organization Name (eg, company) [Internet Widgits Pty Ltd]:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>Organizational Unit Name (eg, section) []:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p>Common Name (eg, YOUR name) []:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>Email Address []:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>&nbsp;</p>
<p><b>mycommoncrt.crt</b></p>
<p>&nbsp;</p>
<p>-----BEGIN CERTIFICATE-----</p>
<p>MIID4zCCAsugAwIBAgIJAJ73VwJ+KNz9MA0GCSqGSIb3DQEBCwUAMFQxCzAJBgNV</p>
<p>BAYTAktSMQ4wDAYDVQQIEwVTZW91bDESMBAGA1UEBxMJU29uZ3BhLWd1MSEwHwYD</p>
<p>VQQKExhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTgwODIzMDEwMzE3WhcN</p>
<p>MTkwODIzMDEwMzE3WjBUMQswCQYDVQQGEwJLUjEOMAwGA1UECBMFU2VvdWwxEjAQ</p>
<p>BgNVBAcTCVNvbmdwYS1ndTEhMB8GA1UEChMYSW50ZXJuZXQgV2lkZ2l0cyBQdHkg</p>
<p>THRkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzKib3QSYnn5bGtIY</p>
<p>2DOQiPpieNNzpiyE8+Uhf9VufyBeMR8DGfaCuku0cjqF15Gqkgl2+3DavaGtyuNQ</p>
<p>e8Idz1jUHW/nLUlKLOzYf/a3W4n7EOjzhUv3H16KenqxhJcc1RFs6Zg+c/n76hId</p>
<p>/NrFbLq/kX4/xEPmRRe6O88SSUlcyBVQo59jMNH0IJOHZ8V1gKvTpQkUt3su7ojX</p>
<p>QfkmQv2Hps6pg2FRPnysDS6wDolaMt1f/Dd51l/Y29Dm5sjiPTHXZbYp/mD0Ka3T</p>
<p>TipnM60wMdDSdCQx9aT0hdVhXEHz0aSMezJP5SUvbIL4DHQPC1GHF2vYlsbivp/t</p>
<p>6Uu4kQIDAQABo4G3MIG0MB0GA1UdDgQWBBRRJxq/mdmqJswbHi1djbMaGnmQhzCB</p>
<p>hAYDVR0jBH0we4AUUScav5nZqibMGx4tXY2zGhp5kIehWKRWMFQxCzAJBgNVBAYT</p>
<p>AktSMQ4wDAYDVQQIEwVTZW91bDESMBAGA1UEBxMJU29uZ3BhLWd1MSEwHwYDVQQK</p>
<p>ExhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGSCCQCe91cCfijc/TAMBgNVHRMEBTAD</p>
<p>AQH/MA0GCSqGSIb3DQEBCwUAA4IBAQADDWN84F8IdPmc43jGi2jOmhp3OwHoBvVp</p>
<p>DXJrXJNGjDYpJ8BZn+kf6K5D59qZfIW1cHhzaf/kylQsHF2cH8ZFU69kp0txIi/f</p>
<p>9hOu5W/OwxtyCmomaL99zJdHePfj4MFhu+aANCkaOcEFlE3kc+JTCdj2jPZxMIJr</p>
<p>dIBsbLJeEwX8q7RJ2t/pPn/LiYRVuEEj9qpXu4MOw01ccjSPHA/TgZ+FDOZb3U9y</p>
<p>ABXB64uoxbxr5zIAgYKoQUOoX3S0gwDo9omWcnAPU4fjtT7Es/3HNjtSet3TGW68</p>
<p>J7vbhPIovtusLqH1/AUKmEVspeUKkn9ero0Ee9ruuP5HALb8zstG</p>
<p>-----END CERTIFICATE-----</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><b>5. 인증서 Config 파일 (test.conf)</b></p>
<p><b>&nbsp;</b></p>
<p>[req]</p>
<p><span>default_bits</span> = 2048</p>
<p><span>prompt</span> = no</p>
<p><span>default_md</span> = sha256</p>
<p><span>req_extensions</span> = req_ext</p>
<p><span>distinguished_name</span> = dn</p>
<p>&nbsp;</p>
<p>[ dn ]</p>
<p><span>C</span>=KR</p>
<p><span>ST</span>=Seoul</p>
<p><span>L</span>=Seoul</p>
<p><span>O</span>=COMPANY</p>
<p><span>OU</span>=DEV</p>
<p><span>emailAddress</span>=test@test.com</p>
<p><span>CN</span> = testmachine</p>
<p>&nbsp;</p>
<p>[ req_ext ]</p>
<p><span>subjectAltName</span> = @alt_names</p>
<p>&nbsp;</p>
<p>[ alt_names ]</p>
<p><span>IP.1</span> = 111.111.111.111</p>
<p>DNS.1 = test.com</p>
<p><b>&nbsp;</b></p>
<p>위에서 만들다 보면 계속 같은 내용을 써야 한다. 그래서 그 부분을 파일로 만들어 놓고 csr, crt 생성할때 사용하면 된다.</p>
<p><b>&nbsp;</b></p>
<p><b>openssl req -new -key private.</b><b>key&nbsp;</b><b>-out private.csr -config test.conf</b></p>
<p><b>openssl req -x509 -days 365 -key private.key -in private.csr -out mycommoncrt.crt -days 365 -config test.conf</b></p>
<p><b>&nbsp;</b></p>
<p>그리고 이렇게 해서 인증서를 만들었을때 subjectAltName 이 안들어간다 . 그 부분이 필요할 경우에는 이렇게 명령어를 사용하면 된다.&nbsp;</p>
<p>&nbsp;</p>
<p><b>openssl req -x509 -days 365 -key private.key -in private.csr -out mycommoncrt.crt -days 365 -config test.conf -extensions req_ext</b></p>
<p><b>&nbsp;</b></p>
<p>&nbsp;</p>
<hr class="tx-hr-border-3" style="display: block; border-width: 1px 0px 0px; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" />
<p>&nbsp;</p>
<p><b>openssl 팁 몇가지</b></p>
<p><b>&nbsp;</b></p>
<p><b>openssl x509&nbsp;-text -noout -in &lt;인증서파일&gt;&nbsp; : 인증서 내용을 볼수 있다.</b></p>
<p><b>&nbsp;</b></p>
<p><b>openssl x509 -in mycommoncrt.crt -out mycommonpem.pem -outform PEM&nbsp; : CRT 파일을 PEM 파일로 변환한다.</b></p>
<p>&nbsp;</p>
<p>참고자료</p>
<p>&nbsp;</p>
<p><a href="https://www.comodossl.co.kr/certificate/ssl-installation-guides/Apache-csr-crt.aspx">https://www.comodossl.co.kr/certificate/ssl-installation-guides/Apache-csr-crt.aspx</a></p>
<p><a href="https://www.kicassl.com/sslcert/sslcert/formSslCert.sg">https://www.kicassl.com/sslcert/sslcert/formSslCert.sg</a></p>
<p><a href="http://namjackson.tistory.com/24">http://namjackson.tistory.com/24</a></p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>

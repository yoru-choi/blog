
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>React의 Redux 데이터 구조  이해하기 1- YEOL</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">React의 Redux 데이터 구조  이해하기 1- YEOL</h2>
                                <div class="box-info">
                                    <p class="category">TS, JS/react</p>
                                    <p class="date">2020-06-17 10:30:58</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p>&nbsp;</p>
<p>&nbsp;</p>
<p><figure class="imageblock alignCenter" data-filename="react.png" data-origin-width="632" data-origin-height="602" style="width: 50.4479%; margin-right: 10px;">
    <span data-lightbox="lightbox">
        <img src="./img/img_3.png" data-filename="react.png" data-origin-width="632" data-origin-height="602" style="width: 50.4479%; margin-right: 10px;" />
    </span>
    <figcaption></figcaption>
</figure><figure class="imageblock alignCenter" data-filename="redux.png" data-origin-width="576" data-origin-height="572" style="width: 48.3893%;">
    <span data-lightbox="lightbox">
        <img src="./img/img_4.png" data-filename="redux.png" data-origin-width="576" data-origin-height="572" style="width: 48.3893%;" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><b>이번 프로젝트는 리액트에서 주로 사용되는 데이터 구조인 리덕스에 대해서 알아보려 합니다.</b></p>
<p><b>이해하기 쉬운 카운터를 이용해서 설명할 예정입니다. 제가 느낄 때 기본 패턴보다 Ducks 패턴이 더 편리하여</b></p>
<p><b>Ducks패턴을 사용하였습니다.&nbsp;</b></p>
<p>&nbsp;</p>
<p><b>*Ducks 패턴이란 리듀서 함수, 액션 타입 변수, 액션 생성 함수를 하나의 파일에 작성하는 방식입니다.</b></p>
<p><b>&nbsp;(이번 프로젝트에서는 모듈이라는 폴더를 생성합니다.</b></p>
<p><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;counter 컴포넌트가 있다면</b><b> 위의 3가지를 하나의 파일에 몰빵 합니다. )</b></p>
<p>&nbsp;</p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style5" />
<h2>&nbsp;</h2>
<h2># 데이터 구조 및 흐름</h2>
<p>&nbsp;</p>
<p>&nbsp;기초적인 구조를 먼저 설명하고 넘어가겠습니다. 자세한 부분은 진행하면서 풀어가겠습니다.</p>
<p>&nbsp;</p>
<p><figure class="imageblock alignCenter" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img.png" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>컴포넌트 : 모든 웹에 보이는 뷰를 담당합니다. 보이기만 하는 껍데기입니다.&nbsp;</p>
<p>컨테이너 : 컴포넌트에서 보이는 기능들을 여기서 처리합니다. 컴포넌트에 +1이라는 버튼이 있다면</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+1을 어떻게 처리할지 컨테이너에서 정하는 역할을 합니다.</p>
<p>모듈 : 컨테이너에서 정해준 역할을 실행하여 데이터를 변경합니다.</p>
<p>&nbsp;</p>
<p><figure class="imageblock alignCenter" data-filename="1.PNG" data-origin-width="1192" data-origin-height="648" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png" data-filename="1.PNG" data-origin-width="1192" data-origin-height="648" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption>출처 -&gt;&nbsp;https://blog-kr.zoyi.co/channel-ios-redux/</figcaption>
</figure></p>
<h3 data-ke-size="size23">&nbsp;</h3>
<p>&nbsp;</p>
<p>데이터의 흐름입니다. 이해하시는 과정에서 다시금 보게 될 것입니다.</p>
<p>전체적인 흐름: 컴포넌트(View)의 버튼(어떤 기능)을 클릭합니다. 그러면 컴포넌트의 데이터를 관리하는 용도의</p>
<p>컨테이너에서 클릭된 기능을 dispatch (action)합니다. 클릭된 기능은 액션 타입으로 구분해줍니다. 액션이 실행됐다면</p>
<p>그에 맞는 타입의 리듀서가(모듈) 클릭된 기능을 이행합니다. 이행한 값은 스토어에 저장됩니다. 스토어에 새로운 값이</p>
<p>저장되면 View를 리 렌더링 해줍니다.&nbsp;&nbsp;</p>
<p>&nbsp;</p>
<p data-ke-size="size16"><u><span>※ 위의 설명을 어느 정도 이해한 다음 프로젝트를 이행하시길 부탁드립니다.</span></u></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 data-ke-size="size26"># 프로젝트 만들기</h2>
<p>&nbsp;</p>
<p>&nbsp; create-react-app를 통해 기본 앱을 만듭니다.</p>
<p>&nbsp; 해당 프로젝트의 명은 redux-tutorial로 생성해주세요.&nbsp;</p>
<p><span style="color: #333333;">&nbsp; <span style="background-color: #f89009;">npm install create react-app redux-tutorial</span><span>&nbsp;</span></span></p>
<p>&nbsp; 생성한 프로젝트에서 redux를 사용해주기 위해 라이브러리를 추가해줍니다.&nbsp;</p>
<p data-ke-size="size14">&nbsp; &nbsp;<span style="background-color: #f89009;">npm install redux react-redux --save&nbsp;</span> &nbsp; &nbsp; &nbsp;* --save는 package.json파일에 본인이 설치한 라이브러리를 명시하는 기능입니다.</p>
<p data-ke-size="size14">&nbsp; 기본 설치된 App.js 에서 불필요한 부분을 제거하면 이런 형태가 됩니다.</p>
<p data-ke-size="size14">&nbsp;</p>
<pre id="code_1592356142255" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>import React from 'react';


const App =()=&gt; {
  return (
    &lt;div className="App"&gt;

    &lt;/div&gt;
  );
}

export default App;
</code></pre>
<p data-ke-size="size14">&nbsp;</p>
<p data-ke-size="size14">&nbsp;</p>
<p data-ke-size="size14">&nbsp;</p>
<h2># 사용할 컴포넌트 준비하기</h2>
<p>&nbsp;</p>
<h4 data-ke-size="size20"><span style="font-family: 'Noto Sans Demilight', 'Noto Sans KR';">- 카운터 컴포넌트</span></h4>
<p>&nbsp;</p>
<p><span style="color: #333333;">&nbsp; 먼저 src경로에 components 폴더를 생성합니다. components 폴더는 모든 UI 부분을 담당할 것입니다.&nbsp;</span></p>
<p><span style="color: #333333;">&nbsp; <span style="color: #333333;">components 폴더에 </span>카운터 컴포넌트를 만들어줍니다.&nbsp;</span></p>
<p>&nbsp;</p>
<pre id="code_1592356594380" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>import React from 'react';


const Counter =({number, onIncrease, onDecrease})=&gt; {
  return (
    &lt;div&gt;
        &lt;h1&gt;{number}&lt;/h1&gt;
        &lt;button onClick={onIncrease}&gt;+1&lt;/button&gt;
        &lt;button onClick={onDecrease}&gt;-1&lt;/button&gt;
    &lt;/div&gt;
  );
}

export default Counter;
</code></pre>
<p>&nbsp;</p>
<pre id="code_1592356638325" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>import React from 'react';
import Counter from './components/Counter'

const App =()=&gt; {
  return (
    &lt;div className="App"&gt;
        &lt;Counter number={0}/&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
<p><figure class="imageblock floatRight" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>보시는 부분과 같이 잘 나오셨다면 성공입니다.</p>
<p>counter 컴포넌트는 인자를 받는데 그중에 일단</p>
<p>number값만 넘겨준 것뿐입니다.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4 data-ke-size="size20">&nbsp;</h4>
<h2># 카운터 모듈</h2>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>경로입니다. './modules/counter'&nbsp; 모듈에 counter 파일을 생성합니다. 사전에 말씀드렸던&nbsp;</p>
<p><b>리듀서 함수, 액션 타입 변수(이해하기 쉽게 변수라 말했지만 const로 선언합시다), 액션 생성 함수</b>를</p>
<p>여기에 몰빵 합니다.&nbsp;</p>
<p>&nbsp;</p>
<pre id="code_1592358714430" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>//액션 타입 변수

const INCREASE = 'counter/INCREASE';  //액션을 하기위한 타입을 설정합니다.
const DECREASE = 'counter/DECREASE';   


//액션 생성 함수

export const increase =()=&gt;({type:INCREASE });  //타입을 설정했으니 export로 내보내줍니다.
export const decrease =()=&gt;({type:DECREASE });  //디스패치 해줄때 이걸 사용하는겁니다.
                                               //그래야 밑에 리듀서보면 case에서 씁니다.
const initialState={    //영어그대로 초기화를 해주는 부분입니다.
  number:0
}


//리듀서 함수 

function counter(state = initialState , action){

  switch (action.type) {  //타입에 맞는 행동을 진행합니다. 데이터를 변경합니다.
    case INCREASE:
    return{
          number:state.number+1
    };
    case DECREASE:
    return{
          number:state.number-1
    };
    default:
      return state;
  }
}
export default counter;
</code></pre>
<p>&nbsp;</p>
<p>모듈에서 만약 counter 이외에 여러 개의 컴포넌트를 다루게 된다면 모듈을 하나로 합 체! 하는 것이 가능합니다.</p>
<p>combineReducer는 리듀서 합체한다는 소리입니다. 그리고 counter만 불러줬습니다.&nbsp;</p>
<p>test 1이라는 임의에 컴포넌트를 더해준다면 이런 형식이 될 것입니다. 저희는 counter만 쓰기 때문에 test 1 들을</p>
<p>지워줍시다.</p>
<p>&nbsp;</p>
<pre id="code_1592360201958" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>import {combineReducers} from 'redux';
import counter from  './counter';
import test1 from  './test1';

const rootReducer= combineReducers({
  counter , test1
});

export default rootReducer;
</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4 data-ke-size="size20">&nbsp;</h4>
<h2># 스토어</h2>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: 'Noto Sans Demilight', 'Noto Sans KR';">src 경로에 있는 index.js 파일을 확인합시다.</span></p>
<p><span style="font-family: 'Noto Sans Demilight', 'Noto Sans KR';">밑에 주석 처리한 2개의 부분만 추가해주었고 나머지는 기본 상태입니다. 바로 추가해줍시다.</span></p>
<p>&nbsp;</p>
<pre id="code_1592360646907" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import * as serviceWorker from './serviceWorker';

import {createStore } from 'redux';   //여기가 스토어입니다. 흐름도 이미지 참고해주세요
import rootReducer from './modules'    //여기서 리듀서 불러쥼 index로 선언했으니 /index생략가능

const store = createStore(rootReducer);
ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById('root')
);

// If you want your app to work offline and load faster, you can change
// unregister() to register() below. Note this comes with some pitfalls.
// Learn more about service workers: https://bit.ly/CRA-PWA
serviceWorker.unregister();
</code></pre>
<p>&nbsp;</p>
<p>흐름도를 지속적으로 확인해주세요. 데이터 구조(data Layer)에 대해 알고 사용하는 것이 중요합니다.</p>
<p>createStore는 말 그대로 스토어 생성입니다. 저장하는 곳을 만들어줍니다.</p>
<p>그리고 store를 선언해줄 때 리듀서를 인자로 넣어줍니다. initialState를 초기값으로 받아줍니다.</p>
<p>&nbsp;</p>
<p>그리고 redux의 Provider를 불러와줍니다. 말 그대로 제공자, 공급자의 의미인데&nbsp;</p>
<p>스토어가 초기화되거나 새로운 값이 들어올 때마다 리 렌더링 해주는 컴포넌트입니다.</p>
<p>이 컴포넌트를 사용하려면 store를 props로 전달해주어야 합니다.</p>
<p>&nbsp;</p>
<p>redux관련 에러가 뜨시는 분들은 잠깐 멈추시고 <span style="background-color: #f3c000;">npm install redux react-redux --save를</span> 실행해주시기 바랍니다.</p>
<p>리덕스를 사용하기 위한 라이브러리입니다.</p>
<pre id="code_1592371124022" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import * as serviceWorker from './serviceWorker';

import {createStore } from 'redux';
import rootReducer from './modules'
import {Provider} from 'react-redux'

const store = createStore(rootReducer);
ReactDOM.render(
  &lt;Provider store={store} &gt;
    &lt;App /&gt;
  &lt;/Provider&gt;
    ,
  document.getElementById('root')
);
 
serviceWorker.unregister();
</code></pre>
<p>&nbsp;</p>
<p>벌써 스토어의 초기 설정까지 완료했습니다.&nbsp; 축하드립니다.&nbsp;</p>
<p><a href="http://www.yeolceo.com/28">http://www.yeolceo.com/28</a></p>
<figure id="og_1592363914141" contenteditable="false" data-ke-type="opengraph" data-og-type="article" data-og-title="React의 Redux 데이터 구조  이해하기 2- YEOL" data-og-description="ㅋㅌㅍㅋㅍㅍㅊ" data-og-host="www.yeolceo.com" data-og-source-url="http://www.yeolceo.com/28" data-og-url="http://www.yeolceo.com/28" data-og-image="https://scrap.kakaocdn.net/dn/H5tD1/hyGrqi1bYR/Q5ndf6BUODuvwF1t1Fa0s1/img.png?width=800&amp;height=800&amp;face=0_0_800_800,https://scrap.kakaocdn.net/dn/bQ9suk/hyGryBlpp2/50NkDj66uN0Pzm4NNPlLjk/img.png?width=800&amp;height=800&amp;face=0_0_800_800,https://scrap.kakaocdn.net/dn/e6e1p/hyGrxJdKDk/aaQKKgKHabq4sRLafLyamk/img.png?width=236&amp;height=213&amp;face=0_0_236_213"><a href="http://www.yeolceo.com/28" target="_blank" rel="noopener" data-source-url="http://www.yeolceo.com/28">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/H5tD1/hyGrqi1bYR/Q5ndf6BUODuvwF1t1Fa0s1/img.png?width=800&amp;height=800&amp;face=0_0_800_800,https://scrap.kakaocdn.net/dn/bQ9suk/hyGryBlpp2/50NkDj66uN0Pzm4NNPlLjk/img.png?width=800&amp;height=800&amp;face=0_0_800_800,https://scrap.kakaocdn.net/dn/e6e1p/hyGrxJdKDk/aaQKKgKHabq4sRLafLyamk/img.png?width=236&amp;height=213&amp;face=0_0_236_213');">&nbsp;</div>
<div class="og-text">
<p class="og-title">React의 Redux 데이터 구조 이해하기 2- YEOL</p>
<p class="og-desc">ㅋㅌㅍㅋㅍㅍㅊ</p>
<p class="og-host">www.yeolceo.com</p>
</div>
</a></figure>
<p>글을 보고 잘 따라와 주시고 계셨다면 <b>다음 페이지로</b> 넘어가 주세요.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #Redux #react redux #redux ducks #react redux ducks 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>

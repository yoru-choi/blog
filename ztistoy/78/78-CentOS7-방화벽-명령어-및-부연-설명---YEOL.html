
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>CentOS7 방화벽 명령어 및 부연 설명 - YEOL</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">CentOS7 방화벽 명령어 및 부연 설명 - YEOL</h2>
                                <div class="box-info">
                                    <p class="category">OS/Linux</p>
                                    <p class="date">2021-01-25 18:35:09</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <h3 data-ke-size="size23">&nbsp;</h3>
<h3 data-ke-size="size23"><span style="color: #666666;"><b>-방화벽이란</b></span></h3>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #666666;">신뢰할 수 있는 허가된 네트워크를 제외한 경우, 네트워크를 통해 외부에서 내부로의 접속을 막는 네트워크 보안 시스템입니다.</span></p>
<p data-ke-size="size16"><span style="color: #666666;"><b>CentOS7</b>은 <b>firewalld</b>라는 방화벽이 기본으로 탑재되어있습니다. 이 방화벽에 대한 설정은 <b>zone</b>(영역)을 이용하여</span></p>
<p data-ke-size="size16"><span style="color: #666666;">적용합니다.&nbsp; <b>public</b>이란 이름의 <b>zone</b>을 예로 들어 설명하겠습니다.</span></p>
<p data-ke-size="size16"><span style="color: #666666;"><b>CentOS7</b>에서는 방화벽의 기본 설정이 <b>public</b>을 명칭으로한&nbsp;<b>zone</b>이 설정되어있습니다. &nbsp;</span></p>
<p data-ke-size="size16"><span style="color: #666666;">/etc/firewalld/zones/public.xml 경로에 말이죠.</span></p>
<p data-ke-size="size16"><span style="color: #666666;">그래서 <b>public</b> 이란 이름의 <b>zone</b>에 설정을 추가하면 <b>public.xml</b> 파일에 저장됩니다.&nbsp;</span></p>
<p data-ke-size="size16"><span style="color: #666666;">다른 이름의 <b>zone</b>을 사용하여 기존과 다른 설정을 저장해놓고 사용할 수도 있습니다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<h3 data-ke-size="size23"><span style="color: #666666;"><b>-명령어 실행해보기</b></span></h3>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #666666;"><b>CentOS7</b>을 사용할 때 <b>방화벽</b>을 다루어야 할 경우 유용하게 사용되는 <b>명령어</b>를 모아놓았습니다.</span></p>
<p data-ke-size="size16"><span style="color: #666666;">먼저 <b>CentOS7</b>을 실행해줍니다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignCenter" width="400" height="None" >
    <span data-lightbox="lightbox">
        <img src="./img/img.png" width="400" height="None"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #666666;">아래의 설명을 통해 명령어를 하나씩 입력해보면서 테스트해주세요 (<b>root</b> 계정에서 진행했습니다)</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size18"><span style="color: #666666;"><b>방화벽이 실행 중인지 확인</b><b></b></span></p>
<p data-ke-size="size16"><span style="color: #666666;">실행 중이면 <b>running</b> 정지상태면 <b>not running</b> 을 터미널에 출력합니다.</span></p>
<pre id="code_1611193238104" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# firewall-cmd --state</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignCenter" >
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png"  />
    </span>
    <figcaption></figcaption>
</figure><figure class="imageblock alignCenter" >
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size18"><span style="color: #666666;"><b>방화벽의 기능을 정지</b><b></b></span></p>
<p data-ke-size="size16"><span style="color: #666666;">방화벽을 통째로 정지하기 때문에 방화벽에 의한 문제인지 판별할 때 요긴합니다.</span></p>
<pre id="code_1611193548580" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# systemctl stop firewalld</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size18"><span style="color: #666666;"><b>방화벽의 기능을 실행</b></span></p>
<p data-ke-size="size16"><span style="color: #666666;">방화벽을 정지해두었다면 방화벽을 실행해줍니다.</span></p>
<pre id="code_1611193577144" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# systemctl start firewalld</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size18"><span style="color: #666666;"><b>방화벽 변경 시 설정 적용</b></span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #666666;">방화벽 설정이 변경되었다면 <b>reload</b>를 통해 설정을 적용해줍니다.</span></p>
<pre id="code_1611193634147" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# firewall-cmd --reload</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignCenter" >
    <span data-lightbox="lightbox">
        <img src="./img/img_3.png"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size18"><span style="color: #666666;"><b>부팅 시 적용되는 설정</b></span></p>
<p data-ke-size="size16"><span style="color: #666666;"><b>disable</b> 명령어를 사용하면 재부팅 시에도 방화벽이 실행되지 않습니다. (일반적으로 재부팅 시 방화벽이 실행됩니다)</span></p>
<pre id="code_1611193819827" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# systemctl disable firewalld</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #666666;"><b>enable</b> 명령어를 사용하면 재부팅 시에 방화벽이 실행됩니다.&nbsp;&nbsp;</span></p>
<p data-ke-size="size16">&nbsp;</p>
<pre id="code_1611560951117" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# systemctl enable firewalld</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size18"><span style="color: #666666;"><b>접근 가능 포트 추가 제거</b></span></p>
<p data-ke-size="size16"><span style="color: #666666;"><b>public</b>이란 명칭의 <b>zone</b>에 <b>permanent</b>하게 포트를 <b>add</b> 하겠다는 의미입니다. (영어를 해석하며 사용하면 이해에 좋습니다)</span></p>
<pre id="code_1611563113779" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# firewall-cmd --permanent --zone=public --add-port=3000/tcp

[YEOL@localhost]# firewall-cmd --permanent --zone=public --add-port=3000-6000/tcp //구간 추가</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #666666;"><b>public</b>이란 명칭의 <b>zone</b>에 <b>add</b> 되어있던 포트를 <b>permanent</b> 하게 <b>remove</b> 하겠다는 의미입니다.</span></p>
<pre id="code_1611563126426" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# firewall-cmd --permanent --zone=public --remove-port=3000/tcp

[YEOL@localhost]# firewall-cmd --permanent --zone=public --remove-port=3000-6000/tcp //구간 제거</code></pre>
<p data-ke-size="size16"><span style="color: #666666;">&nbsp;</span></p>
<p data-ke-size="size16"><span style="color: #666666;">설정을 변경했다면 변경된 설정을 적용해 주기 위해 위쪽에서 설명드렸던 <b>reload</b> 명령어를 사용해야 합니다.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size18"><span style="color: #666666;"><b>방화벽의 모든 zone에 대한 정보</b><b></b></span></p>
<p data-ke-size="size16"><span style="color: #666666;">방화벽의 <b>인터페이스, 서비스, 포트</b> 등 관련 정보를 보여줍니다. </span><span style="color: #666666;">변경된 사항을 체크할 수 있습니다.</span></p>
<pre id="code_1611193924499" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>[YEOL@localhost]# firewall-cmd --list-all</code></pre>
<p data-ke-size="size16">&nbsp;</p>
<p><figure class="imageblock alignCenter" width="486" height="None" >
    <span data-lightbox="lightbox">
        <img src="./img/img_4.png" width="486" height="None"  />
    </span>
    <figcaption></figcaption>
</figure></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"><span style="color: #666666;">간단하게 사용해보는 <b>CentOS7</b> <b>방화벽 명령어</b>였습니다. 쉽게 이해하셨길 바랍니다! </span></p>
<p data-ke-size="size16"><span style="color: #666666;">성실한 코딩 하세요.</span></p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #centos7 방화벽 #centos7 방화벽 끄기 #centos7 방화벽 해제 #centos7 포트 확인 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>


<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>Node.js에 Openssl 적용하기 -YEOL</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">Node.js에 Openssl 적용하기 -YEOL</h2>
                                <div class="box-info">
                                    <p class="category">ETC/SSL</p>
                                    <p class="date">2020-09-24 18:15:50</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <h2 data-ke-size="size26">&nbsp;</h2>
<h2 data-ke-size="size26">&nbsp;</h2>
<p><figure class="imageblock alignCenter" data-filename="node.js.png" data-origin-width="633" data-origin-height="572" width="429" height="NaN" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img.png" data-filename="node.js.png" data-origin-width="633" data-origin-height="572" width="429" height="NaN" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<h2 data-ke-size="size26">&nbsp;</h2>
<h2 data-ke-size="size26">&nbsp;</h2>
<h2 data-ke-size="size26"><span style="color: #333333;">Openssl 이란</span></h2>
<p>&nbsp;</p>
<p><span style="color: #333333;">네트워크를 통한 데이터 통신을 할 때 쓰이는 프로토콜인 TLS와 SSL을 오픈소스로 해놓은 것입니다.</span></p>
<p><span style="color: #333333;">SSL은 보안 소켓 계층이란 뜻으로 Secure Sockets Layer의 약자입니다.&nbsp;</span></p>
<p><span style="color: #333333;">풀어서 말씀드리면 웹사이트나 서버 사이에 전송되는 데이터들을 암호화해주는 기술입니다.</span></p>
<p><span style="color: #333333;"> TLS는&nbsp; 전송 계층 보안이란 뜻으로 Transport Layer Security의 약자입니다.</span></p>
<p>최신 기술의 ssl로 보다 강력한 버전의 인증서입니다.&nbsp;</p>
<p>결론적으로 웹에서 통신간에 데이터를 암호화해주는 기술입니다.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 data-ke-size="size26"><span style="color: #333333;">Openssl 만들기 위한 툴 다운<span></span></span></h2>
<p>&nbsp;</p>
<p>먼저 하단의 링크를 사용하여 ssl을 만들기 위한 툴을 다운로드합니다.&nbsp;</p>
<p>&nbsp;</p>
<p><a href="https://sourceforge.net/projects/openssl/" target="_blank" rel="noopener">sourceforge.net/projects/openssl/</a></p>
<figure id="og_1600936847454" contenteditable="false" data-ke-type="opengraph" data-og-type="product" data-og-title="OpenSSL" data-og-description="Download OpenSSL for free. This project offers OpenSSL for Windows (static as well as shared). It supports: FIPS Object Module 1.2 and CAPI engine." data-og-host="sourceforge.net" data-og-source-url="https://sourceforge.net/projects/openssl/" data-og-url="https://sourceforge.net/projects/openssl/" data-og-image=""><a href="https://sourceforge.net/projects/openssl/" target="_blank" rel="noopener" data-source-url="https://sourceforge.net/projects/openssl/">
<div class="og-image" style="background-image: url();">&nbsp;</div>
<div class="og-text">
<p class="og-title">OpenSSL</p>
<p class="og-desc">Download OpenSSL for free. This project offers OpenSSL for Windows (static as well as shared). It supports: FIPS Object Module 1.2 and CAPI engine.</p>
<p class="og-host">sourceforge.net</p>
</div>
</a></figure>
<p>다운로드를 하고 압축을 풀어주시면 아래와 같은 화면이 나옵니다.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><figure class="imageblock alignCenter" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img_1.png" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>url에 맞춰 폴더를 찾아보시면 openssl.exe라는 파일이 보일 것입니다.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><figure class="imageblock alignCenter" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img_2.png" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><figure class="imageblock alignCenter" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img_3.png" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>자 실행을 완료하였다면 여러분도 위와 같은 명령 프롬프트와 같은 창이 나왔을 것입니다.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 data-ke-size="size26"><span style="color: #333333;">Openssl 만들기</span></h2>
<p>&nbsp;</p>
<p><span style="color: #333333;"><span style="color: #333333;">req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 3650</span></span></p>
<p>위와 같은 코드를 입력하면 10년짜리 인증서가 나옵니다. -&gt; 이름을 적는 부분이나 비밀번호는 알아서 합니다.</p>
<p><s>(코드에 대한 해석은 좀 더 공부하고 수정하겠습니다.)</s></p>
<p>&nbsp;</p>
<p><figure class="imageblock alignCenter" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img_4.png" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>위와 같이 key.pem, cert.pem 같은 2가지 파일이 나옵니다. 이 파일들을 이제&nbsp;</p>
<p>node.js 에 서버로 가져갑시다. (node.js의 서버를 실행하기 어려우시다면 하단의 링크를 참조하세요)</p>
<p><a href="https://yeolceo.tistory.com/29" target="_blank" rel="noopener">yeolceo.tistory.com/29</a></p>
<figure id="og_1600938283656" contenteditable="false" data-ke-type="opengraph" data-og-type="article" data-og-title="node.js 의 koa 쉽게 사용하기-YEOL" data-og-description="koa를 간단히 설명하자면 express와 같은 node.js에서 서버를 실행하기 위해 사용하는 웹 프레임워크입니다. express의 개발자분들이 만드셨고 특징은 가벼움과 비동기 작업을 정식 지원하는 부분입니" data-og-host="www.yeolceo.com" data-og-source-url="https://yeolceo.tistory.com/29" data-og-url="https://www.yeolceo.com/29" data-og-image="https://scrap.kakaocdn.net/dn/cJuui7/hyHB0QXdNP/vDsi4Jkmtr8ATvbbk0WXg1/img.png?width=650&amp;height=300&amp;face=0_0_650_300,https://scrap.kakaocdn.net/dn/kdbjZ/hyHB4TloSx/gs6o6BGaTCE8vCxIlU3Cgk/img.png?width=650&amp;height=300&amp;face=0_0_650_300,https://scrap.kakaocdn.net/dn/deg8IP/hyHCeBFfvZ/hHLCrrz9VgGllsOr6ivu8k/img.png?width=1084&amp;height=564&amp;face=0_0_1084_564"><a href="https://yeolceo.tistory.com/29" target="_blank" rel="noopener" data-source-url="https://yeolceo.tistory.com/29">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/cJuui7/hyHB0QXdNP/vDsi4Jkmtr8ATvbbk0WXg1/img.png?width=650&amp;height=300&amp;face=0_0_650_300,https://scrap.kakaocdn.net/dn/kdbjZ/hyHB4TloSx/gs6o6BGaTCE8vCxIlU3Cgk/img.png?width=650&amp;height=300&amp;face=0_0_650_300,https://scrap.kakaocdn.net/dn/deg8IP/hyHCeBFfvZ/hHLCrrz9VgGllsOr6ivu8k/img.png?width=1084&amp;height=564&amp;face=0_0_1084_564');">&nbsp;</div>
<div class="og-text">
<p class="og-title">node.js 의 koa 쉽게 사용하기-YEOL</p>
<p class="og-desc">koa를 간단히 설명하자면 express와 같은 node.js에서 서버를 실행하기 위해 사용하는 웹 프레임워크입니다. express의 개발자분들이 만드셨고 특징은 가벼움과 비동기 작업을 정식 지원하는 부분입니</p>
<p class="og-host">www.yeolceo.com</p>
</div>
</a></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>기존의 express나 koa로 http 서버를 실행하셨다면</p>
<p>&nbsp;</p>
<pre id="code_1600937994190" class="html xml" data-ke-language="html" data-ke-type="codeblock"><code>   
   
   option = {
      key: fs.readFileSync('./open_ssl/openssl-0.9.8k_X64/bin/key.pem'),
      cert: fs.readFileSync('./open_ssl/openssl-0.9.8k_X64/bin/cert.pem'),
      //경로는 본인꺼에 맞게 설정합시다. 
      passphrase:'여기에 비번넣으세요',
      agent:false
  };
  
  

// app 은 이미 express 나 koa로 app.listen 이 가능한상태여야 합니다. 

  https.createServer(option, app).listen(5050, () =&gt; {
      console.log(`[HTTPS] Soda Server is started on port ${5050}`)
  });
  
  
</code></pre>
<p>&nbsp;</p>
<p>그대로 명령 프롬프트에서 실행해주시면 됩니다.</p>
<p><figure class="imageblock alignCenter" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img_5.png" data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>그러면 https에서 node.js가 실행이 될 것입니다.&nbsp;</p>
<p>공인 인증된 ssl이 아니므로 당연히 안전하지 않음이나 주의 상태로 실행됩니다.&nbsp;</p>
<p>지적은 언제나 감사히 받습니다. 감사합니다.&nbsp;</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #OpenSSL #openssl node.js #node.js openssl 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
